/**
 * Kakao Javascript SDK for Kakao Open Platform Service - v1.0.3
 *
 * Copyright 2014 Kakao Corp.
 *
 * Redistribution and modification in source are not permitted without specific prior written permission. 
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

 !function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){t.exports=function(){function t(){return r||(r=s.guardCreateEasyXDM(function(){return new i.Rpc({remote:s.URL.apiRemote},{remote:{request:{}}})})),r}function n(e){if(!a.contains(a.keys(c.api),e))throw new s.KakaoError("Invalid URL: '"+e);return!0}var r,o={},i=e("../vendors/easyXDM.js"),a=e("./util.js"),s=e("./common.js");o.request=function(e){function n(e){try{var t=e.message;return JSON.parse(t.responseText)}catch(n){return{code:-777,msg:"Unknown error"}}}s.checkConstraints(e,c.request,"API.request"),a.defaults(e,{data:{},success:a.emptyFunc,fail:a.emptyFunc,always:a.emptyFunc});var r=e.url;s.checkConstraints(e.data,c.api[r].data,"API.request - "+r);var o={};a.each(e.data,function(e,t){o[t]=JSON.stringify(e)});var i={url:r,method:c.api[r].method,headers:{Authorization:"Bearer "+Kakao.Auth.getAccessToken()},data:o};t().request(i,function(t){e.success(t),e.always(t)},function(t){var r=n(t);e.fail(r),e.always(r)})};var c={request:{required:{url:n},optional:{data:a.isObject,success:a.isFunction,fail:a.isFunction,always:a.isFunction}},api:{"/v1/user/signup":{method:"post",data:{optional:{properties:a.isObject}}},"/v1/user/unlink":{method:"post"},"/v1/user/me":{method:"post",data:{optional:{propertyKeys:a.isArray}}},"/v1/user/logout":{method:"post",data:{}},"/v1/user/update_profile":{method:"post",data:{required:{properties:a.isObject}}},"/v1/api/talk/profile":{method:"get"},"/v1/api/story/profile":{method:"get"}}};return o.cleanup=function(){r&&(r.destroy(),r=null)},o}()},{"../vendors/easyXDM.js":8,"./common.js":3,"./util.js":6}],2:[function(e,t){t.exports=function(){function t(e,t){return l.extend(e,{remote:f.URL.loginWidget}),f.guardCreateEasyXDM(function(){return new u.Rpc(e,{local:{postResponse:t},remote:{setClient:{},setStateToken:{},deleteAuthCookie:{}}})})}function n(e,t){if(f.logDebug(e),e.error){if("window_closed"===e.error)return;c.setAccessToken(null),c.setRefreshToken(null),t.fail(e),t.always(e)}else c.setAccessToken(e.access_token,t.persistAccessToken),c.setRefreshToken(e.refresh_token,t.persistRefreshToken),t.success(e),t.always(e)}function r(e,t){var n=l.encrypt(t,f.RUNTIME.appKey);localStorage.setItem(e,n)}function o(e){var t=localStorage.getItem(e);return t?l.decrypt(t,f.RUNTIME.appKey):null}function i(e){localStorage.removeItem(e)}function a(){return y.accessTokenKey||(y.accessTokenKey="kakao_"+l.hash("kat"+f.RUNTIME.appKey)),y.accessTokenKey}function s(){return y.refreshTokenKey||(y.refreshTokenKey="kakao_"+l.hash("krt"+f.RUNTIME.appKey)),y.refreshTokenKey}var c={},u=e("../vendors/easyXDM.js"),l=e("./util.js"),f=e("./common.js"),p=[];c.createLoginButton=function(e){function r(e){if(e.stateToken!==s)throw new f.KakaoError("security error: #CST");return delete e.stateToken,e}function o(){s=l.getRandomString(),c.setStateToken(s)}function i(){c.setClient(e.lang,e.size,f.RUNTIME.appKey,function(e){var t=a.getElementsByTagName("iframe")[0];t.style.width=e.width+"px",t.style.height=e.height+"px"})}f.checkConstraints(e,v.createLoginButton,"Auth.createLoginButton"),l.defaults(e,{lang:"kr",size:"medium"},m);var a=l.getElement(e.container);if(!a)throw new f.KakaoError("container is required for Kakao login button: pass in element or id");var s="",c=t({container:a},function(t){r(t),n(t,e),o()});o(),i(),p.push(function(){c.destroy()})};var d,h=l.getRandomString(),g={};c.login=function(e){function r(){var e=l.encodeQueryString({client_id:f.RUNTIME.appKey,redirect_uri:"kakaojs",response_type:"code",state:o,proxy:"easyXDM_Kakao_"+h+"_provider"});return f.URL.authorize+"?"+e}f.checkConstraints(e,v.login,"Auth.login"),l.defaults(e,m),d||(d=t({channel:h},function(e){if(!l.has(g,e.stateToken))throw new f.KakaoError("security error: #CST2");var t=g[e.stateToken];delete g[e.stateToken],delete e.stateToken,n(e,t)}),p.push(function(){d.destroy()}));var o=l.getRandomString();g[o]=e,window.open(r(),"","width=720, height=480")};var m={success:l.emptyFunc,fail:l.emptyFunc,always:l.emptyFunc,persistAccessToken:!0,persistRefreshToken:!1},v={createLoginButton:{required:{container:[l.isString,l.isElement]},optional:{lang:l.isString,size:l.isString,success:l.isFunction,fail:l.isFunction,always:l.isFunction,persistAccessToken:l.isBoolean,persistRefreshToken:l.isBoolean}},login:{optional:{success:l.isFunction,fail:l.isFunction,always:l.isFunction,persistAccessToken:l.isBoolean,persistRefreshToken:l.isBoolean}}};c.logout=function(e){f.validate(e||l.emptyFunc,l.isFunction,"Auth.logout");var n=function(){var n=d||t({},l.emptyFunc);n.deleteAuthCookie(),e&&e(!0)};c.getAccessToken()?Kakao.API.request({url:"/v1/user/logout",always:function(){c.setAccessToken(null),c.setRefreshToken(null),n()}}):n()},c.setAccessToken=function(e,t){f.RUNTIME.accessToken=e,null===e||t===!1?i(a()):r(a(),e)},c.setRefreshToken=function(e,t){f.RUNTIME.refreshToken=e,null!==e&&t===!0?r(s(),e):i(s())},c.getAccessToken=function(){return f.RUNTIME.accessToken||(f.RUNTIME.accessToken=o(a())),f.RUNTIME.accessToken},c.getRefreshToken=function(){return f.RUNTIME.refreshToken||(f.RUNTIME.refreshToken=o(s())),f.RUNTIME.refreshToken};var y={};return c.getAppKey=function(){return f.RUNTIME.appKey},c.getStatus=function(e){f.validate(e,l.isFunction,"Auth.getStatus"),c.getAccessToken()?Kakao.API.request({url:"/v1/user/me",success:function(t){e({status:"connected",user:t})},fail:function(){e({status:"not_connected"})}}):e({status:"not_connected"})},c.cleanup=function(){l.each(p,function(e,t){e(),p.splice(t,1)})},c}()},{"../vendors/easyXDM.js":8,"./common.js":3,"./util.js":6}],3:[function(e,t){t.exports=function(){var t={},n=e("./util.js");t.URL={authorize:"https://kauth.kakao.com/oauth/authorize",loginWidget:"https://kauth.kakao.com/public/widget/login/kakaoLoginWidget.html",apiRemote:"https://kapi.kakao.com/cors/"},t.RUNTIME={appKey:"",accessToken:"",refreshToken:""};var r=function(e){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=e};return r.prototype=new Error,t.KakaoError=r,t.isDebug=function(){return!1},t.logDebug=function(e){t.isDebug()&&console.log(JSON.stringify(e))},t.validate=function(e,t,o){var i=n.isArray(t)?t:[t],a=n.any(i,function(t){return t(e)});if(!a)throw new r("Invalid parameter: "+o)},t.checkConstraints=function(e,o,i){t.validate(e,n.isObject,i);var a=o.required||{},s=o.optional||{},c=n.extend({},a,s),u=n.difference(n.keys(a),n.keys(e));if(u.length)throw new r("Missing required keys: "+u.join(",")+" - "+i);var l=n.difference(n.keys(e),n.keys(c));if(l.length)throw new r("Invalid parameter keys: "+l.join(",")+" - "+i);n.each(e,function(e,n){var r=c[n];t.validate(e,r,'"'+n+'" in '+i)})},t.getPlatform=function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":navigator.userAgent.match(/Android/i)?window.chrome?"android+chrome":"android":"not_supported"},t.guardCreateEasyXDM=function(e){try{return e()}catch(t){throw new r(t instanceof TypeError?"kakao.js should be loaded from a web server":"EasyXDM -"+t.message)}},t}()},{"./util.js":6}],4:[function(e){!function(t){t.Kakao=t.Kakao||{};var n=t.Kakao;n.VERSION="1.0.3";var r=e("./util.js"),o=e("./common.js");n.init=function(t){if(o.RUNTIME.appKey)throw new o.KakaoError("Already initialized.");if(!r.isString(t))throw new o.KakaoError("App key must be provided");o.RUNTIME.appKey=t,n.Auth=e("./auth.js"),n.API=e("./api.js"),n.Link=e("./link.js")},n.cleanup=function(){n.Auth.cleanup(),n.API.cleanup(),n.Link.cleanup(),r.nullify(o.RUNTIME)}}(window)},{"./api.js":1,"./auth.js":2,"./common.js":3,"./link.js":5,"./util.js":6}],5:[function(e,t){t.exports=function(){function t(e){if(c.validate(e,[s.isString,s.isNumber],"parameter image in Kakao.Link"),70>e)throw new c.KakaoError("Illegal argument for image: image size should be larger than 70px * 70px");return!0}function n(e){function t(t){return e[t]?(c.checkConstraints(e[t],f.kakaoTalkLink[t],"parameter '"+t+"' in Link.createTalkLink"),!0):!1}var n=new u;return s.isString(e.label)?n.addLabel(e.label):t("label")&&n.addLabel(e.label.text),e.image&&e.image.width&&e.image.height&&(e.image.width=e.image.width.toString().replace("px",""),e.image.height=e.image.height.toString().replace("px","")),t("image")&&n.addImage(e.image.src,e.image.width,e.image.height),t("webButton")&&n.addWebButton(e.webButton.text,e.webButton.url),t("webLink")&&n.addWebLink(e.webLink.text,e.webLink.url),t("appButton")&&n.addAppButton(e.appButton.text,e.appButton.execParams),t("appLink")&&n.addAppLink(e.appLink.text,e.appLink.execParams),"kakaolink://send?"+s.encodeQueryString(n)}function r(e,t,n){function r(e){return 0===e.indexOf("http://")||0===e.indexOf("https://")?e:"http://"+e}return{objtype:e,text:t,action:{type:"web",url:n?r(n):void 0}}}function o(e,t,n){function r(e){var t=[];return c.checkConstraints(e,f.appExecParams,"execParams in Kakao.Link.createTalkLink"),e.android&&t.push({os:"android",execparam:s.encodeQueryString(e.android)}),e.iphone&&t.push({os:"ios",devicetype:"phone",execparam:s.encodeQueryString(e.iphone)}),e.ipad&&t.push({os:"ios",devicetype:"pad",execparam:s.encodeQueryString(e.ipad)}),t}return{objtype:e,text:t,action:{type:"app",actioninfo:n?r(n):[]}}}function i(e,t){function n(){window.location=p[t]}function r(e){return function(){clearTimeout(e),window.removeEventListener("pagehide",arguments.callee)}}if("android"===t){var o=document.createElement("iframe");o.style.display="none",o.src=e,o.onload=n,document.body.appendChild(o)}else if("android+chrome"===t)window.location="intent:"+e+"#Intent;package="+d+";end;";else if("ios"===t){var i=setTimeout(n,2e3);s.addEvent(window,"pagehide",r(i)),window.location=e}}var a={},s=e("./util.js"),c=e("./common.js"),u=function(){this.appkey=c.RUNTIME.appKey,this.appver="1.0",this.apiver="3.0",this.linkver="3.5",this.objs=[]},l=[];a.createTalkLink=function(e){c.checkConstraints(e,f.createTalkLink,"Link.createTalkLink");var t=s.getElement(e.container);if(!t)throw new c.KakaoError("container is required for KakaoTalk Link: pass in element or id");var r=n(e),o=c.getPlatform();if("not_supported"===o)return void(e.fail&&e.fail(r));var a=function(){i(r,o)};s.addEvent(t,"click",a);var u=function(){s.removeEvent(t,"click",a)};l.push(u)};var f={createTalkLink:{required:{container:[s.isString,s.isElement]},optional:{label:[s.isString,s.isObject],image:s.isObject,webButton:s.isObject,webLink:s.isObject,appButton:s.isObject,appLink:s.isObject,fail:s.isFunction}},kakaoTalkLink:{label:{required:{text:s.isString}},image:{required:{src:s.isString,width:t,height:t}},webButton:{optional:{text:s.isString,url:s.isString}},webLink:{required:{text:s.isString},optional:{url:s.isString}},appButton:{optional:{text:s.isString,execParams:s.isObject}},appLink:{required:{text:s.isString},optional:{execParams:s.isObject}}},appExecParams:{optional:{iphone:s.isObject,ipad:s.isObject,android:s.isObject}}};u.prototype.addLabel=function(e){var t={objtype:"label",text:e};this.objs.push(t)},u.prototype.addImage=function(e,t,n){var r={objtype:"image",src:e,width:t,height:n};this.objs.push(r)},u.prototype.addWebButton=function(e,t){var n=r("button",e,t);this.objs.push(n)},u.prototype.addWebLink=function(e,t){var n=r("link",e,t);this.objs.push(n)},u.prototype.addAppButton=function(e,t){var n=o("button",e,t);this.objs.push(n)},u.prototype.addAppLink=function(e,t){var n=o("link",e,t);this.objs.push(n)};var p={android:"market://details?id=com.kakao.talk",ios:"http://itunes.apple.com/app/id362057947"},d="com.kakao.talk";return a.cleanup=function(){s.each(l,function(e,t){e(),l.splice(t,1)})},a}()},{"./common.js":3,"./util.js":6}],6:[function(e,t){t.exports=function(){var t={},n=e("../vendors/CryptoJS.js"),r={},o=Array.prototype,i=Object.prototype,a=o.slice,s=o.concat,c=i.toString,u=i.hasOwnProperty,l=o.forEach,f=o.filter,p=o.some,d=o.indexOf,h=Array.isArray,g=Object.keys,m=t.each=function(e,n,o){if(null==e)return e;if(l&&e.forEach===l)e.forEach(n,o);else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(n.call(o,e[i],i,e)===r)return}else for(var s=t.keys(e),i=0,a=s.length;a>i;i++)if(n.call(o,e[s[i]],s[i],e)===r)return;return e};t.filter=function(e,t,n){var r=[];return null==e?r:f&&e.filter===f?e.filter(t,n):(m(e,function(e,o,i){t.call(n,e,o,i)&&r.push(e)}),r)};var v=t.any=function(e,n,o){n||(n=t.identity);var i=!1;return null==e?i:p&&e.some===p?e.some(n,o):(m(e,function(e,t,a){return i||(i=n.call(o,e,t,a))?r:void 0}),!!i)};return t.contains=function(e,t){return null==e?!1:d&&e.indexOf===d?-1!=e.indexOf(t):v(e,function(e){return e===t})},t.difference=function(e){var n=s.apply(o,a.call(arguments,1));return t.filter(e,function(e){return!t.contains(n,e)})},t.keys=function(e){if(!t.isObject(e))return[];if(g)return g(e);var n=[];for(var r in e)t.has(e,r)&&n.push(r);return n},t.extend=function(e){return m(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},t.defaults=function(e){return m(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},t.isElement=function(e){return!(!e||1!==e.nodeType)},t.isArray=h||function(e){return"[object Array]"==c.call(e)},t.isObject=function(e){return e===Object(e)},m(["Arguments","Function","String","Number","Date","RegExp"],function(e){t["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),t.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},t.has=function(e,t){return u.call(e,t)},t.getElement=function(e){return t.isElement(e)?e:t.isString(e)?document.querySelector(e):null},t.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},t.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},t.encodeQueryString=function(e){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];t.isObject(o)&&(o=JSON.stringify(o)),n.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}return n.join("&")},t.getRandomString=function(){return Math.random().toString(36).slice(2)},t.hash=function(e){var t=n.MD5(e);return t.toString()},t.encrypt=function(e,t){var r=n.AES.encrypt(e,t);return r.toString()},t.decrypt=function(e,t){var r=n.AES.decrypt(e,t);return r.toString(n.enc.Utf8)},t.nullify=function(e){t.each(e,function(t,n){e[n]=null})},t.emptyFunc=function(){},t}()},{"../vendors/CryptoJS.js":7}],7:[function(e,t){t.exports=function(){var e=e||function(e,t){var n={},r=n.lib={},o=function(){},i=r.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;e>o;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-8*(o%4)&255)<<24-8*((r+o)%4);else if(65535<n.length)for(o=0;e>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++){var o=t[r>>>2]>>>24-8*(r%4)&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*i,o=e.min(4*t,o),t){for(var c=0;t>c;c+=i)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=o}return new a.init(c,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=f.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=n.algo={};return n}(Math);return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var o=0;n>o;o+=3)for(var i=(t[o>>>2]>>>24-8*(o%4)&255)<<16|(t[o+1>>>2]>>>24-8*((o+1)%4)&255)<<8|t[o+2>>>2]>>>24-8*((o+2)%4)&255,a=0;4>a&&n>o+.75*a;a++)e.push(r.charAt(i>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,r=this._map,o=r.charAt(64);o&&(o=e.indexOf(o),-1!=o&&(t=o));for(var o=[],i=0,a=0;t>a;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<2*(a%4),c=r.indexOf(e.charAt(a))>>>6-2*(a%4);o[i>>>2]|=(s|c)<<24-8*(i%4),i++}return n.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function n(e,t,n,r,o,i,a){return e=e+(t&n|~t&r)+o+a,(e<<i|e>>>32-i)+t}function r(e,t,n,r,o,i,a){return e=e+(t&r|n&~r)+o+a,(e<<i|e>>>32-i)+t}function o(e,t,n,r,o,i,a){return e=e+(t^n^r)+o+a,(e<<i|e>>>32-i)+t}function i(e,t,n,r,o,i,a){return e=e+(n^(t|~r))+o+a,(e<<i|e>>>32-i)+t}for(var a=e,s=a.lib,c=s.WordArray,u=s.Hasher,s=a.algo,l=[],f=0;64>f;f++)l[f]=4294967296*t.abs(t.sin(f+1))|0;s=s.MD5=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var a=0;16>a;a++){var s=t+a,c=e[s];e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var a=this._hash.words,s=e[t+0],c=e[t+1],u=e[t+2],f=e[t+3],p=e[t+4],d=e[t+5],h=e[t+6],g=e[t+7],m=e[t+8],v=e[t+9],y=e[t+10],k=e[t+11],w=e[t+12],b=e[t+13],_=e[t+14],x=e[t+15],S=a[0],E=a[1],T=a[2],O=a[3],S=n(S,E,T,O,s,7,l[0]),O=n(O,S,E,T,c,12,l[1]),T=n(T,O,S,E,u,17,l[2]),E=n(E,T,O,S,f,22,l[3]),S=n(S,E,T,O,p,7,l[4]),O=n(O,S,E,T,d,12,l[5]),T=n(T,O,S,E,h,17,l[6]),E=n(E,T,O,S,g,22,l[7]),S=n(S,E,T,O,m,7,l[8]),O=n(O,S,E,T,v,12,l[9]),T=n(T,O,S,E,y,17,l[10]),E=n(E,T,O,S,k,22,l[11]),S=n(S,E,T,O,w,7,l[12]),O=n(O,S,E,T,b,12,l[13]),T=n(T,O,S,E,_,17,l[14]),E=n(E,T,O,S,x,22,l[15]),S=r(S,E,T,O,c,5,l[16]),O=r(O,S,E,T,h,9,l[17]),T=r(T,O,S,E,k,14,l[18]),E=r(E,T,O,S,s,20,l[19]),S=r(S,E,T,O,d,5,l[20]),O=r(O,S,E,T,y,9,l[21]),T=r(T,O,S,E,x,14,l[22]),E=r(E,T,O,S,p,20,l[23]),S=r(S,E,T,O,v,5,l[24]),O=r(O,S,E,T,_,9,l[25]),T=r(T,O,S,E,f,14,l[26]),E=r(E,T,O,S,m,20,l[27]),S=r(S,E,T,O,b,5,l[28]),O=r(O,S,E,T,u,9,l[29]),T=r(T,O,S,E,g,14,l[30]),E=r(E,T,O,S,w,20,l[31]),S=o(S,E,T,O,d,4,l[32]),O=o(O,S,E,T,m,11,l[33]),T=o(T,O,S,E,k,16,l[34]),E=o(E,T,O,S,_,23,l[35]),S=o(S,E,T,O,c,4,l[36]),O=o(O,S,E,T,p,11,l[37]),T=o(T,O,S,E,g,16,l[38]),E=o(E,T,O,S,y,23,l[39]),S=o(S,E,T,O,b,4,l[40]),O=o(O,S,E,T,s,11,l[41]),T=o(T,O,S,E,f,16,l[42]),E=o(E,T,O,S,h,23,l[43]),S=o(S,E,T,O,v,4,l[44]),O=o(O,S,E,T,w,11,l[45]),T=o(T,O,S,E,x,16,l[46]),E=o(E,T,O,S,u,23,l[47]),S=i(S,E,T,O,s,6,l[48]),O=i(O,S,E,T,g,10,l[49]),T=i(T,O,S,E,_,15,l[50]),E=i(E,T,O,S,d,21,l[51]),S=i(S,E,T,O,w,6,l[52]),O=i(O,S,E,T,f,10,l[53]),T=i(T,O,S,E,y,15,l[54]),E=i(E,T,O,S,c,21,l[55]),S=i(S,E,T,O,m,6,l[56]),O=i(O,S,E,T,x,10,l[57]),T=i(T,O,S,E,h,15,l[58]),E=i(E,T,O,S,b,21,l[59]),S=i(S,E,T,O,p,6,l[60]),O=i(O,S,E,T,k,10,l[61]),T=i(T,O,S,E,u,15,l[62]),E=i(E,T,O,S,v,21,l[63]);a[0]=a[0]+S|0,a[1]=a[1]+E|0,a[2]=a[2]+T|0,a[3]=a[3]+O|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;n[o>>>5]|=128<<24-o%32;var i=t.floor(r/4294967296);for(n[(o+64>>>9<<4)+15]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[(o+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,r=0;4>r;r++)o=n[r],n[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return e},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),a.MD5=u._createHelper(s),a.HmacMD5=u._createHmacHelper(s)}(Math),function(){var t=e,n=t.lib,r=n.Base,o=n.WordArray,n=t.algo,i=n.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=n.hasher.create(),i=o.create(),a=i.words,s=n.keySize,n=n.iterations;a.length<s;){c&&r.update(c);var c=r.update(e).finalize(t);r.reset();for(var u=1;n>u;u++)c=r.finalize(c),r.reset();i.concat(c)}return i.sigBytes=4*s,i}});t.EvpKDF=function(e,t,n){return i.create(n).compute(e,t)}}(),e.lib.Cipher||function(t){var n=e,r=n.lib,o=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=n.enc.Base64,c=n.algo.EvpKDF,u=r.Cipher=a.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?g:h).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?g:h).decrypt(e,t,n,r)}}}});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=n.mode={},f=function(e,n,r){var o=this._iv;o?this._iv=t:o=this._prevBlock;for(var i=0;r>i;i++)e[n+i]^=o[i]},p=(r.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();p.Encryptor=p.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;f.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),p.Decryptor=p.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);n.decryptBlock(e,t),f.call(this,e,t,r),this._prevBlock=o}}),l=l.CBC=p,p=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,n=n-e.sigBytes%n,r=n<<24|n<<16|n<<8|n,o=[],a=0;n>a;a+=4)o.push(r);n=i.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:l,padding:p}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=r.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),l=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return e=e.salt,(e?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){e=s.parse(e);var t=e.words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},h=r.SerializableCipher=o.extend({cfg:o.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r);return t=o.finalize(t),o=o.cfg,d.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),n=(n.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=c.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},g=r.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:n}),encrypt:function(e,t,n,r){return r=this.cfg.extend(r),n=r.kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,e=h.encrypt.call(this,e,t,n.key,r),e.mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,h.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var t=e,n=t.lib.BlockCipher,r=t.algo,o=[],i=[],a=[],s=[],c=[],u=[],l=[],f=[],p=[],d=[],h=[],g=0;256>g;g++)h[g]=128>g?g<<1:g<<1^283;for(var m=0,v=0,g=0;256>g;g++){var y=v^v<<1^v<<2^v<<3^v<<4,y=y>>>8^255&y^99;o[m]=y,i[y]=m;var k=h[m],w=h[k],b=h[w],_=257*h[y]^16843008*y;a[m]=_<<24|_>>>8,s[m]=_<<16|_>>>16,c[m]=_<<8|_>>>24,u[m]=_,_=16843009*b^65537*w^257*k^16843008*m,l[y]=_<<24|_>>>8,f[y]=_<<16|_>>>16,p[y]=_<<8|_>>>24,d[y]=_,m?(m=k^h[h[h[b^k]]],v^=h[h[v]]):m=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes/4,e=4*((this._nRounds=n+6)+1),r=this._keySchedule=[],i=0;e>i;i++)if(n>i)r[i]=t[i];else{var a=r[i-1];i%n?n>6&&4==i%n&&(a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a]):(a=a<<8|a>>>24,a=o[a>>>24]<<24|o[a>>>16&255]<<16|o[a>>>8&255]<<8|o[255&a],a^=x[i/n|0]<<24),r[i]=r[i-n]^a}for(t=this._invKeySchedule=[],n=0;e>n;n++)i=e-n,a=n%4?r[i]:r[i-4],t[n]=4>n||4>=i?a:l[o[a>>>24]]^f[o[a>>>16&255]]^p[o[a>>>8&255]]^d[o[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,f,p,d,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],f=e[t+2]^n[2],p=e[t+3]^n[3],d=4,h=1;c>h;h++)var g=r[u>>>24]^o[l>>>16&255]^i[f>>>8&255]^a[255&p]^n[d++],m=r[l>>>24]^o[f>>>16&255]^i[p>>>8&255]^a[255&u]^n[d++],v=r[f>>>24]^o[p>>>16&255]^i[u>>>8&255]^a[255&l]^n[d++],p=r[p>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&f]^n[d++],u=g,l=m,f=v;g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&p])^n[d++],m=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[d++],v=(s[f>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],p=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=p},keySize:8});t.AES=n._createHelper(r)}(),e}()},{}],8:[function(e,t){t.exports=function(){return function(e,t,n,r,o,i){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(e,t){return!("object"!=typeof e[t]||!e[t])}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!k(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!k(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(M=n.match(/\d+/g))}if(!M){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),M=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(o){}}if(!M)return!1;var i=parseInt(M[0],10),a=parseInt(M[1],10);return B=i>9&&a>0,!0}function l(){if(!q){q=!0;for(var e=0;e<X.length;e++)X[e]();X.length=0}}function f(e,t){return q?void e.call(t):void X.push(function(){e.call(t)})}function p(){var e=parent;if(""!==I)for(var t=0,n=I.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function d(t){return e.easyXDM=z,I=t,I&&(K="easyXDM_"+I.replace(".","_")+"_"),P}function h(e){return e.match(L)[3]}function g(e){return e.match(L)[4]||""}function m(e){var t=e.toLowerCase().match(L),n=t[2],r=t[3],o=t[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+r+o}function v(e){if(e=e.replace(N,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;D.test(e);)e=e.replace(D,"");return e}function y(e,t){var n="",r=e.indexOf("#");-1!==r&&(n=e.substring(r),e=e.substring(0,r));var o=[];for(var a in t)t.hasOwnProperty(a)&&o.push(a+"="+i(t[a]));return e+(U?"#":-1==e.indexOf("?")?"?":"&")+o.join("&")+n}function k(e){return"undefined"==typeof e}function w(e,t,n){var r;for(var o in t)t.hasOwnProperty(o)&&(o in e?(r=t[o],"object"==typeof r?w(e[o],r,n):n||(e[o]=t[o])):e[o]=t[o]);return e}function b(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=K+"TEST"+A,O=n!==e.elements[n.name],t.body.removeChild(e)}function _(e){k(O)&&b();var n;O?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(w(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var r=e.props.src;if(e.props.src="javascript:false",w(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&j(n,"load",e.onLoad),e.usePost){var o,i=e.container.appendChild(t.createElement("form"));if(i.target=n.name,i.action=r,i.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(O?o=t.createElement('<input name="'+a+'"/>'):(o=t.createElement("INPUT"),o.name=a),o.value=e.usePost[a],i.appendChild(o));i.submit(),i.parentNode.removeChild(i)}else n.src=r;return e.props.src=r,n}function x(e,t){"string"==typeof e&&(e=[e]);for(var n,r=e.length;r--;)if(n=e[r],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function S(r){var o,i=r.protocol;if(r.isHost=r.isHost||k(J.xdm_p),U=r.hash||!1,r.props||(r.props={}),r.isHost)r.remote=v(r.remote),r.channel=r.channel||"default"+A++,r.secret=Math.random().toString(16).substring(2),k(i)&&(i=m(n.href)==m(r.remote)?"4":a(e,"postMessage")||a(t,"postMessage")?"1":r.swf&&a(e,"ActiveXObject")&&u()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":r.remoteHelper?"2":"0");else if(r.channel=J.xdm_c.replace(/["'<>\\]/g,""),r.secret=J.xdm_s,r.remote=J.xdm_e.replace(/["'<>\\]/g,""),i=J.xdm_p,r.acl&&!x(r.acl,r.remote))throw new Error("Access denied for "+r.remote);switch(r.protocol=i,i){case"0":if(w(r,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),r.isHost){if(!r.local){for(var s,c=n.protocol+"//"+n.host,l=t.body.getElementsByTagName("img"),f=l.length;f--;)if(s=l[f],s.src.substring(0,c.length)===c){r.local=s.src;
break}r.local||(r.local=e)}var p={xdm_c:r.channel,xdm_p:0};r.local===e?(r.usePolling=!0,r.useParent=!0,r.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=r.local,p.xdm_pa=1):p.xdm_e=v(r.local),r.container&&(r.useResize=!1,p.xdm_po=1),r.remote=y(r.remote,p)}else w(r,{channel:J.xdm_c,remote:J.xdm_e,useParent:!k(J.xdm_pa),usePolling:!k(J.xdm_po),useResize:r.useParent?!1:r.useResize});o=[new P.stack.HashTransport(r),new P.stack.ReliableBehavior({}),new P.stack.QueueBehavior({encode:!0,maxLength:4e3-r.remote.length}),new P.stack.VerifyBehavior({initiate:r.isHost})];break;case"1":o=[new P.stack.PostMessageTransport(r)];break;case"2":r.isHost&&(r.remoteHelper=v(r.remoteHelper)),o=[new P.stack.NameTransport(r),new P.stack.QueueBehavior,new P.stack.VerifyBehavior({initiate:r.isHost})];break;case"3":o=[new P.stack.NixTransport(r)];break;case"4":o=[new P.stack.SameOriginTransport(r)];break;case"5":o=[new P.stack.FrameElementTransport(r)];break;case"6":M||u(),o=[new P.stack.FlashTransport(r)]}return o.push(new P.stack.QueueBehavior({lazy:r.lazy,remove:!0})),o}function E(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,o=e.length;o>r;r++)t=e[r],w(t,n,!0),0!==r&&(t.down=e[r-1]),r!==o-1&&(t.up=e[r+1]);return t}function T(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var O,M,B,j,R,C=this,A=Math.floor(1e4*Math.random()),F=Function.prototype,L=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,D=/[\-\w]+\/\.\.\//,N=/([^:])\/\//g,I="",P={},z=e.easyXDM,K="easyXDM_",U=!1;if(a(e,"addEventListener"))j=function(e,t,n){e.addEventListener(t,n,!1)},R=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw new Error("Browser not supported");j=function(e,t,n){e.attachEvent("on"+t,n)},R=function(e,t,n){e.detachEvent("on"+t,n)}}var H,q=!1,X=[];if("readyState"in t?(H=t.readyState,q="complete"==H||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==H||"interactive"==H)):q=!!t.body,!q){if(a(e,"addEventListener"))j(t,"DOMContentLoaded",l);else if(j(t,"readystatechange",function(){"complete"==t.readyState&&l()}),t.documentElement.doScroll&&e===top){var W=function(){if(!q){try{t.documentElement.doScroll("left")}catch(e){return void r(W,1)}l()}};W()}j(e,"load",l)}var J=function(e){e=e.substring(1).split("&");for(var t,n={},r=e.length;r--;)t=e[r].split("="),n[t[0]]=o(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),Q=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(Q=function(){return e},e):null)};w(P,{version:"2.4.19.3",query:J,stack:{},apply:w,getJSONObject:Q,whenReady:f,noConflict:d}),P.DomHelper={on:j,un:R,requiresJSON:function(n){s(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};P.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var r=e[t];return n&&delete e[t],r}}}}(),P.Socket=function(e){var t=E(S(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=m(e.remote);this.origin=m(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},P.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var r=t.local[n];"function"==typeof r&&(t.local[n]={method:r})}var o=E(S(e).concat([new P.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=m(e.remote),this.destroy=function(){o.destroy()},o.init()},P.stack.SameOriginTransport=function(e){var t,o,i,a;return t={outgoing:function(e,t,n){i(e),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){a=m(e.remote),e.isHost?(w(e.props,{src:y(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:K+e.channel+"_provider"}),o=_(e),P.Fn.set(e.channel,function(e){return i=e,r(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,a)}})):(i=p().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,a)}),r(function(){t.up.callback(!0)},0))},init:function(){f(t.onDOMReady,t)}}},P.stack.FlashTransport=function(e){function o(e){r(function(){s.up.incoming(e,u)},0)}function a(n){var r=e.swf+"?host="+e.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());P.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){P.stack.FlashTransport[n].swf=l=p.firstChild;for(var e=P.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?p="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(p=t.createElement("div"),w(p.style,B&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(p));var a="callback=flash_loaded"+i(n.replace(/[\-.]/g,"_"))+"&proto="+C.location.protocol+"&domain="+i(h(C.location.href))+"&port="+i(g(C.location.href))+"&ns="+i(I);p.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}var s,c,u,l,p;return s={outgoing:function(t,n,r){l.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){try{l.destroyChannel(e.channel)}catch(t){}l=null,c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){u=e.remote,P.Fn.set("flash_"+e.channel+"_init",function(){r(function(){s.up.callback(!0)})}),P.Fn.set("flash_"+e.channel+"_onMessage",o),e.swf=v(e.swf);var t=h(e.swf),i=function(){P.stack.FlashTransport[t].init=!0,l=P.stack.FlashTransport[t].swf,l.createChannel(e.channel,e.secret,m(e.remote),e.isHost),e.isHost&&(B&&e.swfNoThrottle&&w(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),w(e.props,{src:y(e.remote,{xdm_e:m(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:K+e.channel+"_provider"}),c=_(e))};P.stack.FlashTransport[t]&&P.stack.FlashTransport[t].init?i():P.stack.FlashTransport[t]?P.stack.FlashTransport[t].queue.push(i):(P.stack.FlashTransport[t]={queue:[i]},a(t))},init:function(){f(s.onDOMReady,s)}}},P.stack.PostMessageTransport=function(t){function o(e){if(e.origin)return m(e.origin);if(e.uri)return m(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(e){var n=o(e);n==u&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),n)}var a,s,c,u;return a={outgoing:function(e,n,r){c.postMessage(t.channel+" "+e,n||u),r&&r()},destroy:function(){R(e,"message",i),s&&(c=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(u=m(t.remote),t.isHost){var o=function(n){n.data==t.channel+"-ready"&&(c="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,R(e,"message",o),j(e,"message",i),r(function(){a.up.callback(!0)},0))};j(e,"message",o),w(t.props,{src:y(t.remote,{xdm_e:m(n.href),xdm_c:t.channel,xdm_p:1}),name:K+t.channel+"_provider"}),s=_(t)}else j(e,"message",i),c="postMessage"in e.parent?e.parent:e.parent.document,c.postMessage(t.channel+"-ready",u),r(function(){a.up.callback(!0)},0)},init:function(){f(a.onDOMReady,a)}}},P.stack.FrameElementTransport=function(o){var i,a,s,c;return i={outgoing:function(e,t,n){s.call(this,e),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){c=m(o.remote),o.isHost?(w(o.props,{src:y(o.remote,{xdm_e:m(n.href),xdm_c:o.channel,xdm_p:5}),name:K+o.channel+"_provider"}),a=_(o),a.fn=function(e){return delete a.fn,s=e,r(function(){i.up.callback(!0)},0),function(e){i.up.incoming(e,c)}}):(t.referrer&&m(t.referrer)!=J.xdm_e&&(e.top.location=J.xdm_e),s=e.frameElement.fn(function(e){i.up.incoming(e,c)}),i.up.callback(!0))},init:function(){f(i.onDOMReady,i)}}},P.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(s?"#_3":"#_2")+e.channel;c.contentWindow.sendMessage(t,n)}function n(){s?2!==++l&&s||a.up.callback(!0):(t("ready"),a.up.callback(!0))}function o(e){a.up.incoming(e,d)}function i(){p&&r(function(){p(!0)},0)}var a,s,c,u,l,p,d,h;return a={outgoing:function(e,n,r){p=r,t(e)},destroy:function(){c.parentNode.removeChild(c),c=null,s&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){s=e.isHost,l=0,d=m(e.remote),e.local=v(e.local),s?(P.Fn.set(e.channel,function(t){s&&"ready"===t&&(P.Fn.set(e.channel,o),n())}),h=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),w(e.props,{src:h+"#"+e.channel,name:K+e.channel+"_provider"}),u=_(e)):(e.remoteHelper=e.remote,P.Fn.set(e.channel,o));var t=function(){var o=c||this;R(o,"load",t),P.Fn.set(e.channel+"_load",i),function a(){"function"==typeof o.contentWindow.sendMessage?n():r(a,50)}()};c=_({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){f(a.onDOMReady,a)}}},P.stack.HashTransport=function(t){function n(e){if(g){var n=t.remote+"#"+d++ +"_"+e;(c||!v?g.contentWindow:g).location=n}}function o(e){p=e,s.up.incoming(p.substring(p.indexOf("_")+1),y)}function i(){if(h){var e=h.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=p&&o(t)}}function a(){u=setInterval(i,l)}var s,c,u,l,p,d,h,g,v,y;return s={outgoing:function(e){n(e)},destroy:function(){e.clearInterval(u),(c||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(c=t.isHost,l=t.interval,p="#"+t.channel,d=0,v=t.useParent,y=m(t.remote),c){if(w(t.props,{src:t.remote,name:K+t.channel+"_provider"}),v)t.onLoad=function(){h=e,a(),s.up.callback(!0)};else{var n=0,o=t.delay/50;!function i(){if(++n>o)throw new Error("Unable to reference listenerwindow");try{h=g.contentWindow.frames[K+t.channel+"_consumer"]}catch(e){}h?(a(),s.up.callback(!0)):r(i,50)}()}g=_(t)}else h=e,a(),v?(g=parent,s.up.callback(!0)):(w(t,{props:{src:t.remote+"#"+t.channel+new Date,name:K+t.channel+"_consumer"},onLoad:function(){s.up.callback(!0)}}),g=_(t))},init:function(){f(s.onDOMReady,s)}}},P.stack.ReliableBehavior=function(){var e,t,n=0,r=0,o="";return e={incoming:function(i,a){var s=i.indexOf("_"),c=i.substring(0,s).split(",");i=i.substring(s+1),c[0]==n&&(o="",t&&t(!0)),i.length>0&&(e.down.outgoing(c[1]+","+n+"_"+o,a),r!=c[1]&&(r=c[1],e.up.incoming(i,a)))},outgoing:function(i,a,s){o=i,t=s,e.down.outgoing(r+","+ ++n+"_"+i,a)}}},P.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void T(n);if(!c&&0!==s.length&&!a){c=!0;var o=s.shift();n.down.outgoing(o.data,o.origin,function(e){c=!1,o.callback&&r(function(){o.callback(e)},0),t()})}}var n,a,s=[],c=!0,u="",l=0,f=!1,p=!1;return n={init:function(){k(e)&&(e={}),e.maxLength&&(l=e.maxLength,p=!0),e.lazy?f=!0:n.down.init()},callback:function(e){c=!1;var r=n.up;t(),r.callback(e)},incoming:function(t,r){if(p){var i=t.indexOf("_"),a=parseInt(t.substring(0,i),10);u+=t.substring(i+1),0===a&&(e.encode&&(u=o(u)),n.up.incoming(u,r),u="")}else n.up.incoming(t,r)},outgoing:function(r,o,a){e.encode&&(r=i(r));var c,u=[];if(p){for(;0!==r.length;)c=r.substring(0,l),r=r.substring(c.length),u.push(c);for(;c=u.shift();)s.push({data:u.length+"_"+c,origin:o,callback:0===u.length?a:null})}else s.push({data:r,origin:o,callback:a});f?n.down.init():t()},destroy:function(){a=!0,n.down.destroy()}}},P.stack.VerifyBehavior=function(e){function t(){r=Math.random().toString(16).substring(2),n.down.outgoing(r)}var n,r,o;return n={incoming:function(i,a){var s=i.indexOf("_");-1===s?i===r?n.up.callback(!0):o||(o=i,e.initiate||t(),n.down.outgoing(i)):i.substring(0,s)===o&&n.up.incoming(i.substring(s+1),a)},outgoing:function(e,t,o){n.down.outgoing(r+"_"+e,t,o)},callback:function(){e.initiate&&t()}}},P.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",i.down.outgoing(a.stringify(e))}function r(e,t){var r=Array.prototype.slice;return function(){var o,i=arguments.length,a={method:t};i>0&&"function"==typeof arguments[i-1]?(i>1&&"function"==typeof arguments[i-2]?(o={success:arguments[i-2],error:arguments[i-1]},a.params=r.call(arguments,0,i-2)):(o={success:arguments[i-1]},a.params=r.call(arguments,0,i-1)),u[""+ ++s]=o,a.id=s):a.params=r.call(arguments,0),e.namedParams&&1===a.params.length&&(a.params=a.params[0]),n(a)}}function o(e,t,r,o){if(!r)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var i,a;t?(i=function(e){i=F,n({id:t,result:e})},a=function(e,r){a=F;var o={id:t,error:{code:-32099,message:e}};r&&(o.error.data=r),n(o)}):i=a=F,c(o)||(o=[o]);try{var s=r.method.apply(r.scope,o.concat([i,a]));k(s)||i(s)}catch(u){a(u.message)}}var i,a=t.serializer||Q(),s=0,u={};return i={incoming:function(e){var r=a.parse(e);if(r.method)t.handle?t.handle(r,n):o(r.method,r.id,t.local[r.method],r.params);else{var i=u[r.id];r.error?i.error&&i.error(r.error):i.success&&i.success(r.result),delete u[r.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=r(t.remote[n],n));i.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];i.down.destroy()}}},C.easyXDM=P}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),easyXDM.noConflict("Kakao")}()},{}]},{},[4]);